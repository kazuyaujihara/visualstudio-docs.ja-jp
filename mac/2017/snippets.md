---
title: コード スニペット
description: Visual Studio for Mac でコード スニペットを利用して効率的にプログラミングする方法
author: conceptdev
ms.author: crdun
ms.date: 02/07/2019
ms.assetid: 0FE27C0C-A861-4133-A74E-8D0505CF5342
ms.openlocfilehash: 2def790511a69dc7b5cab8a5020f488e58b85db9
ms.sourcegitcommit: 7fbfb2a1d43ce72545096c635df2b04496b0be71
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/09/2019
ms.locfileid: "67693010"
---
# <a name="code-snippets"></a>コード スニペット

コード スニペット ("_コード テンプレート_" と呼ばれることがよくあります) を使うと、あらかじめ記述されているコード ブロックを挿入して編集できるので、効率的にプログラミングできます。 コード スニペットを使用すると、よく使うパターンを簡単に追加したり、開発者が構文をよく知らないときに新しいパターンを学習したりするのに便利です。 C#、F#、HTML、XML、Python、Razor のテンプレートが用意されています。

このセクションでは、スニペットを作成し、コードに挿入して使う方法について説明します。

## <a name="inserting-a-snippet"></a>スニペットの挿入

コード スニペットを追加するにはいくつかの方法があり、以下ではその一部を説明します。

- **タブ展開** &ndash; テンプレート名の入力を開始し、それを一覧から選んで、**Tab** キー、**Tab** キーを押して追加します。

  ![コードでのタブ展開](media/source-editor-image13.png)

- **ツールボックス** &ndash; ツールボックス パッドを使ってすべてのコード スニペットの一覧を表示します。 ツールボックスからソース コード内の正しい位置にテンプレートをドラッグします。

  [![ツールボックスでのコード スニペット](media/source-editor-image14-sml.png)](media/source-editor-image14.png#lightbox)

- **テンプレート挿入コマンド** &ndash; 現在、テンプレートの挿入用に設定された既定のキー バインドはありません。 1 つ作成するには、 **[Visual Studio] > [ユーザー設定] > [キー バインディング]** の順に移動して、`template` を検索します。 [バインディングの編集] フィールドに目的のキー バインドを追加して、 **[適用]** をクリックします。

  ![テンプレート挿入コマンド](media/source-editor-image15.png)

## <a name="creating-a-new-template"></a>新しいテンプレートの作成

さまざまな言語の多くの既存テンプレートを使って編集できますが、 **[Visual Studio] > [ユーザー設定] > [テキスト エディター] > [コード スニペット]** で新しいテンプレートを追加することもできます。

![新しいテンプレートの挿入](media/source-editor-image12.png)

**[追加]** または **[編集]** ボタンを押して、スニペットを作成または編集します。

## <a name="keywords-in-code-snippets"></a>コード スニペット内のキーワード

コード スニペットをエディターに挿入すると、定義されているキーワードがすべて強調表示され、それらの間をタブ移動して編集できます。 キーワードは、コード スニペットにおける "変数" のように機能します。これはキーワードの名前の前後にドル記号 `$` を置くことで定義されます。 

組み込みの `prop` スニペットを編集している **[テンプレートの編集]** ウィンドウを次に示します。 スニペットには、2 つのキーワード &ndash; `$type$` と `$name$` &ndash; が含まれていて、これにはウィンドウの右側でさらにプロパティを設定することもできます (既定値やヒントなど)。

![テンプレートの編集ウィンドウ](media/source-editor-image12z.png)

スニペットを定義するために、次のフィールドを使います。

- **[ショートカット]** &ndash; スニペットを挿入するためにユーザーが入力するテキストです。
- **[グループ]** &ndash; スニペットは、この値を使って、スニペットのコンテンツ メニューでグループ化されます。
- **[説明]** &ndash; スニペットの目的を説明します。
- **[Mime]** &ndash; スニペットを使用できるファイルの種類を制御します。
- **[Is expandable template]\(展開可能なテンプレート\)** &ndash; ショートカットを入力してカーソル位置にスニペットを挿入できるようにする場合は、必ずこれをオンにします。
- **[Is surround with template]\(ブロックの挿入テンプレート\)** &ndash; エディターの **[ブロックの挿入...]** コンテンツ メニューでこのショートカットを一覧表示するには、このオプションをオンにします。
- **[Template text]\(テンプレート テキスト\)** &ndash; エディターに挿入される実際のスニペットです。 キーワードのプレースホルダーは、トークンをドル記号で囲むことで定義できます。例: `$type$`。
- **[Keyword property panel]\(キーワードのプロパティ パネル\)** &ndash; ウィンドウの右側で、上部のドロップダウン リストを使ってキーワード (例: `type`) を選び、規定値やヒントなどのプロパティを編集します。

## <a name="using-keywords-in-the-editor"></a>エディターでのキーワードの使用

上で定義したものなど、キーワードを含むスニペットを使うには、ショートカットを入力して **Tab** キーを 2 回押すと、スニペットの内容がカーソル位置に挿入されます。

![キーワードを示す挿入されたスニペット](media/source-editor-image12a.png)

**Tab** キーを押して `object` と `MyProperty` の間を移動し、ご自身のクラス用にスニペットをカスタマイズします。

この `for` の例のように、キーワードはスニペット内で繰り返し使えます。`$i$` キーワードが 3 回出現していることに注意してください。

![キーワードを繰り返し使うスニペット テンプレート](media/source-editor-image12b.png)

エディター内で使う場合、**Tab** キーは最初の `i` と `max` の間で切り替わります。 異なる変数名で `i` を上書きすると、3 つのインスタンスすべてが更新されます。

![複数のキーワードを示す挿入されたスニペット](media/source-editor-image12c.png)

### <a name="reserved-keywords"></a>予約キーワード

スニペット内で使える予約キーワードが 2 つあります。

- `$selected$` &ndash; スニペットの **[Is surround with template]\(ブロックの挿入テンプレート\)** がオンになっている場合、このキーワードは、スニペットを選択したときにエディター内で強調表示されていたテキストで置き換えられます。
- `$end$` &ndash; ユーザーがスニペット内のキーワードの編集を完了すると、`$end$` キーワードの位置にカーソルが置かれます。

前のセクションにある `for` スニペットは、これらの予約キーワード両方の例です。

詳細については、[Visual Studio のコード スニペットのリファレンス](/visualstudio/ide/code-snippets-schema-reference#keywords)に関する記事を参照してください。

## <a name="see-also"></a>関連項目

- [コード スニペット (Windows の Visual Studio)](/visualstudio/ide/code-snippets)