---
title: コード マップの参照および再配置
ms.date: 11/04/2016
ms.topic: conceptual
f1_keywords:
- vs.progression.dgmlgraph.layouthelp
- vs.progression.graphdocument
- vs.progression.dgmlgraph.message.notUlt.noexpandgroup
- vs.progression.colorsetpicker
- vs.progression.iconsetpicker
helpviewer_keywords:
- Visual Studio Ultimate, dependency graphs
- code visualization [Visual Studio ALM]
- graph documents, browsing
- Visual Studio ALM, dependency graphs
- code visualization
- Visual Studio ALM, graph documents
- Visual Studio Ultimate, graph documents
- dependency graphs, browsing
author: jillre
ms.author: jillfra
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 443d272216eaf88bcbd4dcb75c034779403f1ef7
ms.sourcegitcommit: a8e8f4bd5d508da34bbe9f2d4d9fa94da0539de0
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/19/2019
ms.locfileid: "72666612"
---
# <a name="browse-and-rearrange-code-maps"></a>コード マップの参照および再配置

コード マップ上のアイテムを再配置して、読みやすさとパフォーマンスを向上させます。

ソリューション内の基本コードに影響を与えずに、コード マップをカスタマイズすることができます。 この機能は、重要なコード要素に重点を置きたいときや、コードに関するアイデアをやりとりするときに便利です。 たとえば、興味のある領域を強調表示するために、マップ上のコード要素を選択してフィルター処理すること、コード要素とリンクのスタイルを変更すること、コード要素を非表示または削除すること、プロパティ、カテゴリ、またはグループを使用してコード要素を整理することができます。

 **Requirements**

- コード マップを作成するには、Visual Studio Enterprise が必要です。

- Visual Studio Professional でコード マップを表示して、制限付きでコード マップを編集することができます。

## <a name="ManageLargeGraphs"></a>コードマップの使用を開始する

コードマップを作成します (詳細については[、「ソリューション間の依存関係のマッピング](../modeling/map-dependencies-across-your-solutions.md)」を参照してください)。 マップの生成が完了するまで待機しない場合は、いつでも **[キャンセル]** リンクをクリックして生成プロセスを停止します。 ただし、この操作を実行した場合、従属関係とリンクの詳細をすべて確認することはできません。

マップを生成した後、コードの確認に関する以下のヒントを実行します。

- コード内の自然な依存関係クラスターを確認します。 マップ ツールバーで、グラフツールバーの **[レイアウト]** 、[**クイッククラスター** ![Quick クラスター] の順にクリックし ](../modeling/media/quickclustersicon.gif) ます。 「[マップレイアウトの変更](#Selecting)」を参照してください。

     ![依存関係&#45;グラフのクイッククラスターレイアウト](../modeling/media/dependencygraph_quickclusters.png)

- 関連するノードをグループ化することで、マップをさらに小さい領域に整理します。 これらのグループを折りたたみ、グループ間の依存関係のみが示されるようにします。これは、自動的に表示されます。 「[グループノード](#OrganizeGroups)」を参照してください。

- フィルターを使ってマップを簡略化し、興味のある種類のノードやリンクだけに注目できるようにします。 「[フィルターノードとリンク」を](#FilterNodes)参照してください。

- 大きなマップのパフォーマンスを最大にします。 詳細については[、「ソリューション間の依存関係のマッピング](../modeling/map-dependencies-across-your-solutions.md)」を参照してください。たとえば、マップの項目を更新するときに Visual Studio によってソリューションがリビルドされないように、マップのツールバーで **[ビルドのスキップ]** をオンにします。

## <a name="Selecting"></a>マップのレイアウトを変更する

|**目的**|**次の手順を実行します。**|
|-|-|
|グラフ全体の依存関係のフローを特定の方向に配置します。 これは、コードのアーキテクチャ レイヤーを確認するのに役立ちます。|マップのツールバーで、 **[レイアウト]** を選択し、次のようにします。<br /><br /> **上から下へ**![Top -    下部のグラフボタン ](../modeling/media/topbottomgraphbutton.gif)<br />一番**下から上**![Bottom のグラフボタンに -    ](../modeling/media/bottomtopgraphbutton.gif)<br />-   **左から右**へ ![Left レイアウト ボタン ](../modeling/media/leftrightgraphbutton.gif)<br />**右**から左に -    ![Right [グラフ] ボタン ](../modeling/media/rightleftgraphbutton.gif)|
|コード内のクラスターの自然な依存関係を確認します。最も依存度の高いノードはクラスターの中心付近にあり、最も依存度の低いノードはそれらのクラスターの外側にあります。|マップのツールバーで、 **[レイアウト]** 、[**クイッククラスター** ![Quick クラスター] ボタン (グラフツールバー ](../modeling/media/quickclustersicon.gif)) の順に選択します。|
|マップ上の 1 つまたは複数のノードを選択します。|ノードをクリックして選択します。 複数のノードを選択または選択解除するには、 **CTRL キー**を押しながらクリックします。<br /><br /> キーボード: **tab**キーを押すか、方向キーを使用して、点線のフォーカスを示す四角形をノードに移動し、 **SPACE**キーを押して選択します。 **Ctrl**  + **SPACE**キーを押して、ノードを複数選択または選択解除します。|
|マップ上で特定のノードを移動します。|ノードをドラッグして移動します。 ノードのドラッグ時に他のノードやリンクを移動するには、 **shift**キーを押したままにします。<br /><br /> キーボード: **ctrl**キーを押しながら方向キーを押します。|
|マップ上の他のノードやグループとは独立して、グループ内のレイアウトを変更します。|ノードを選択して、ショートカット メニューを開きます。 **[レイアウト]** を選択し、レイアウトスタイルを選択します。<br /><br /> または<br /><br /> ノードを選択して展開し、子ノードを表示します。 ノードのタイトルをクリックしてグループのポップアップツールバーを表示し、[グループ ![Dependency グラフ&#45;グループ**のレイアウトスタイルを変更**する] ツールバー &#45;レイアウト ](../modeling/media/dependencygraph_grouptoolbar.gif) リストを開きます。 ツリーレイアウト、**クイッククラスター**、または**リストビュー**のいずれかを選択します (グループの内容が一覧に配置されます)。<br /><br /> 詳細については、「[グループノード](#OrganizeGroups)」を参照してください。|
|マップ内のアクションを元に戻します。|**CTRL**  + **Z**を押すか、Visual Studio の **[元に戻す]** コマンドを使用します。|

## <a name="Explore"></a>マップを参照する

|**目的**|**次の手順を実行します。**|
|-|-|
|マップをスキャンします。|マウスを使って、マップを任意の方向にドラッグします。<br /><br /> または<br /><br /> **Shift キー**を押しながらマウスホイールを回転させて水平方向にスクロールします。 **Shift**  +  押しながらマウスホイールを回転させて水平方向に**スクロールします**。|
|グラフを拡大または縮小します。|マウス ホイールを回します。<br /><br /> または<br /><br /> コードマップツールバーの **[ズーム]** ドロップダウンリストを使用します。<br /><br /> または<br /><br /> キーボード ショートカットを使います。 ズームインするには、 **ctrl + SHIFT +** キーを押します。 (ピリオド) を押します。 縮小するには、 **ctrl + SHIFT +,** (コンマ) キーを押します。|
|マウスを使って特定の領域をズームインします。|マウスの右ボタンをクリックしたまま、対象の領域を四角形で囲みます。|
|マップのサイズを変更してウィンドウに合わせます。|コードマップツールバーの **[ズーム]** ボックスの一覧に表示される **[ズーム]** を選択します。<br /><br /> または<br /><br /> コードマップツールバーの [マップ] ツール ](../modeling/media/almcodemapzoomicon.png) バーの **[画面に合わせる]** アイコン ![Zoom アイコンをクリックします。 キーボード: **ctrl + 0** (ゼロ) を押します。|
|マップ上のノードを名前で検索します。 **ヒント:** これは、マップ上のアイテムに対してのみ機能します。 マップ上ではなく、ソリューション内の項目を検索するには**ソリューションエクスプローラー**で項目を見つけて、マップにドラッグします。 (選択した内容をドラッグするか、 **[ソリューションエクスプローラー]** ツールバーの **[コードマップに表示]** をクリックします)。|1. マップの ](../modeling/media/almcodemapfindicon.png) ツールバーの **[検索]** アイコン ![Find アイコンをクリックします (キーボード: **ctrl + F**キーを押します)。これにより、マップの右上隅に検索ボックスが表示されます。<br />2. 項目名を入力して**Return**キーを押すか、[拡大鏡] アイコンをクリックします。 検索条件に一致する最初の項目がマップで選択された状態で表示されます。<br />3. 検索をカスタマイズするには、ドロップダウンリストを開き、検索オプションを選択します。 オプションは、 **[次を検索]** 、前を **[検索]** 、および **[すべて選択]** です。 次に、[検索] ボックスの横にある対応するボタンをクリックします。<br />     ![Search オプション&#45;ドロップダウンリスト ](../modeling/media/almcodemapssearchdropdown.png)<br />     または、キーボードを使用します。 **F3**キーを押して次に一致するノードを選択するか、 **SHIFT + F3**キーを押して、前の一致するノードを選択します。<br />4. [検索] ボックスの下にあるアイコンをクリックして、検索用語の処理方法を指定するオプションを選択します。<br />     ![Search 一致オプション ](../modeling/media/almcodemapssearchmatchicons.png)<br />     オプションは、左から順に、大文字と小文字を区別して検索、完全に一致する単語だけを検索、.NET の正規表現の構文を使用して検索、囲まれた項目と一致する項目が表示されるようにグループを自動的に展開する、となっています。 **重要:** [検索] ボックスを使用して、折りたたまれたグループの一致を検索するには、これらのグループが以前に展開されている必要があります。 これらの一致を検索し、親グループを自動的に展開するには、検索ボックスでこのオプションを選択します。|
|選択されていないノードをすべて選択します。|選択したノードのショートカット メニューを開きます。 **[選択**]、 **[選択範囲の反転]** を選択します。|
|選択したノードにリンクしている追加のノードを選択します。|選択したノードのショートカット メニューを開きます。 [**選択]** を選択し、次のいずれかを選択します。<br /><br /> -選択したノードに直接リンクする追加のノードを選択するには、 **[受信依存関係]** を選択します。<br />-選択したノードから直接リンクする追加のノードを選択するには、 **[送信の依存関係]** を選択します。<br />-選択したノードと直接リンクする追加のノードを選択するには、 **[両方]** を選択します。<br />-選択したノードとの間でリンクされているすべてのノードを選択するには、[**接続さ**れたサブグラフ] を選択します。<br />-選択したノードのすべての子を選択するには、 **[子]** を選択します。|

## <a name="FilterNodes"></a>ノードとリンクのフィルター処理

|**目的**|**次の手順を実行します。**|
|-|-|
|フィルター パネルを表示または非表示にします。|コードマップツールバーの **[フィルター]** ボタンをクリックします。 既定では、**フィルター**ウィンドウは**ソリューションエクスプローラー**のタブ付きページとして表示されます。|
|マップに表示されるノードの種類をフィルター処理します。|フィルター ウィンドウの **コード要素** の一覧で、チェックボックスをオンまたはオフにします。|
|マップに表示されるリンクの種類をフィルター処理します。|フィルター ウィンドウで、**リレーションシップ** ボックスの一覧のチェックボックスをオンまたはオフにします。|
|マップ上のテスト プロジェクト ノードを表示または非表示にします。|フィルター ウィンドウの **その他** の一覧で、**テストアセット** チェックボックスをオンまたはオフにします。|

マップの [凡例] パネルに表示されるアイコンには、一覧の設定が反映されます。 凡例 パネルを表示または非表示にするには、コードマップツールバーの **凡例** ボタンをクリックします。

## <a name="Inspect"></a>ノードとリンクを確認する

コード マップには以下の種類のリンクが表示されます。

- 個々のリンクは、2 つのノード間の 1 つの関係を表します。

- グループ間リンクは、異なるグループの 2 つのノード間の 1 つの関係を表します。

- 集約リンクは、2 つのグループ間で同じ方向を指すすべての関係を表します。

> [!TIP]
> 既定では、マップには選択したノードのグループ間リンクのみが表示されます。 この動作を変更して、グループ間の集計されたリンクを表示または非表示にするには、コードマップツールバーの **[レイアウト]** をクリックし、 **[詳細設定]** 、 **[すべてのグループ間リンクを表示]** 、または **[すべてのグループ間リンクを非表示]** を選択します。 詳細について[は、「ノードとリンクの非表示または表示](#HidingShowing)」を参照してください。

|**目的**|**次の手順を実行します。**|
|-|-|
|ノードまたはリンクの詳細を参照します。|マウス ポインターをノードまたはリンクの上に移動して、ツールヒントを表示します。<br /><br /> 集約されたリンクのツールヒントには、そのリンクが表す個々の依存関係が一覧表示されます。<br /><br /> または<br /><br /> ノードまたはリンクのショートカット メニューを開きます。 **[編集]** 、 **[プロパティ]** の順に選択します。|
|グループの内容を表示または非表示にします。|-グループを展開するには、ノードのショートカットメニューを開き、 **[グループ]** 、 **[展開]** の順に選択します。<br />     または<br />     マウス ポインターをノード上に移動して、シェブロン (下向き矢印) ボタンを表示します。 このボタンをクリックすると、グループが展開されます。 キーボード: 選択したグループを展開または折りたたむには、**プラス**キー ( **+** ) または**マイナス記号**( **-** ) キーを押します。<br />-グループを折りたたむには、ノードのショートカットメニューを開き、 **[グループ]** 、 **[折りたたみ]** の順に選択します。<br />     または<br />     マウス ポインターをグループ上に移動して、シェブロン (上向き矢印) ボタンを表示します。 このボタンをクリックすると、グループが折りたたまれます。<br />-すべてのグループを展開するには、 **CTRL**  + **A**キーを押してすべてのノードを選択します。 マップのショートカットメニューを開き、 **[グループ]** 、 **[展開]** の順に選択します。 **注:**     すべてのグループを展開することで、使用できないマップやメモリの問題が発生した場合、このコマンドは使用できません。 必要な詳細レベルにのみマップを展開することをお勧めします。<br />-すべてのグループを折りたたむには、ノードまたはマップのショートカットメニューを開きます。 **[グループ]** 、 **[すべて折りたたみ]** の順に選択します。|
|名前空間、型、またはメンバーのコード定義を確認します。|ノードのショートカットメニューを開き、 **[定義へのジャンプ]** を選択します。<br /><br /> -または-<br /><br /> ノードをダブルクリックします。 展開したグループの場合、そのグループのヘッダーをダブルクリックします。<br /><br /> -または-<br /><br /> ノードを選択し、 **F12**キーを押します。<br /><br /> (例:<br /><br /> -1 つのクラスを含む名前空間の場合、クラスのコードファイルが開き、そのクラスの定義が表示されます。 それ以外の場合は、 **[シンボルの検索結果]** ウィンドウにコードファイルの一覧が表示されます。 **注:**     このタスクを Visual Basic 名前空間で実行すると、名前空間の背後にあるコードファイルは開かれません。 この問題は、Visual Basic 名前空間を含む選択したノードのグループに対してこのタスクを実行した場合にも発生します。 この問題を回避するには、手動で名前空間の背後にあるコード ファイルを参照するか、選択項目から名前空間のノードを除外します。<br />-クラスまたは部分クラスの場合、クラスのコードファイルが開き、クラスの定義が表示されます。<br />-メソッドの場合、親クラスのコードファイルが開き、メソッドの定義が表示されます。|
|集約リンクに参加する依存関係と項目を調べます。|目的のリンクを選択し、選択したショートカットメニューを開きます。 **[寄与するリンクの表示]** を選択するか、**新しいコードマップに寄与するリンクを表示**します。<br /><br /> Visual Studio で、リンクの両端にグループが展開され、リンクに参加する項目と依存関係のみが表示されます。 **注:** 部分的なグループの項目間の依存関係を調べると、次のような動作が発生する可能性があります。 <ul><li>検証に参加していない項目へのリンクは、リンクがまだ存在している場合でも、マップからは消えます。</li><li>部分的なグループの項目へのリンクを調べ、後で同じ項目への別のリンクを調べるとします。 この 2 番目の調査の際に、対象となる部分的なグループには、最初の調査の項目のみが表示されます。 最初の検証に参加しておらず、2番目の検査に参加していないリンクとターゲット項目は表示されません。</li></ul> グループから欠落している項目を表示するには、[**再フェッチ children** ![Refetch Children] アイコン ](../modeling/media/dependencygraph_deletednodesicon.png) (グループのすべてのメンバーがマップに表示されないことを示します) を選択します。 また、操作を元に戻したり (キーボード: **ctrl + Z**キーを押して)、新しいマップの依存関係を確認したりすることもできます。|
|異なるグループの複数ノード間の依存関係を調べます。|グループのすべての子が表示されるように、グループを展開します。 目的のすべてのノード (子を含む) を選択します。 マップに、選択したノード間のグループ間リンクが表示されます。<br /><br /> グループ内のすべてのノードを選択するには、 **shift**キーを押しながらマウスの左ボタンを押しながら、そのグループを囲む四角形を描画します。 マップ上のすべてのノードを選択するには、 **ctrl** +**a**キーを押します。 **ヒント:** グループ間リンクを常に表示するには、マップのツールバーの **[レイアウト]** 、 **[詳細設定]** 、 **[すべてのグループ間リンクを表示]** の順に選択します。|
|ノードまたはリンクの参照先の項目を確認する。|ノードのショートカットメニューを開き、 **[すべての参照の検索]** を選択します。 **注:** これは、マップの .dgml ファイルのノードまたはリンクに対して `Reference` 属性が設定されている場合にのみ適用されます。 ノードまたはリンクから項目への参照を追加するには、「 [DGML ファイルを編集してコードマップをカスタマイズ](../modeling/customize-code-maps-by-editing-the-dgml-files.md)する」を参照してください。|

## <a name="HidingShowing"></a>ノードとリンクを表示または非表示にする

ノードを非表示にすると、そのノードはレイアウト アルゴリズムに加わらないままになります。 既定では、グループ間リンクは非表示です。 グループ間リンクは、グループにまたがってノードを接続する個々のリンクです。 グループを折りたたむと、すべてのグループ間リンクが、グループ間の単一リンクにまとめられます。 グループを展開し、グループ内のノードを選択すると、グループ間リンクが表示されて、そのグループ内の依存関係が示されます。

> [!CAUTION]
> Visual Studio Enterprise で生成したマップを、Visual Studio Professional を使用するユーザーと共有する前に、他のユーザーが表示できるようにするノードやグループ間リンクを再表示しておく必要があります。 そうしない場合、これらのユーザーはそれらの項目を再表示できなくなります。

### <a name="to-hide-or-show-nodes"></a>ノードの表示/非表示を切り替えるには

|**目的**|**次の手順を実行します。**|
|-|-|
|選択したノードを非表示にします。|1. 非表示にするノードを選択します。<br />2. 選択したノードまたはマップのショートカットメニューを開きます。 **[** 選択]、 **[選択した非表示]** を選択します。|
|選択されていないノードを非表示にします。|1. 表示したままにするノードを選択します。<br />2. 選択したノードまたはマップのショートカットメニューを開きます。 **[選択**]、 **[非選択を隠す]** の順に選択します。|
|非表示のノードを表示します。|-グループ内のすべての非表示ノードを表示するには、まずグループが展開されていることを確認します。 ショートカットメニューを開き、 **[選択**]、[**子**の再表示] の順に選択します。<br />     または<br />     グループの左上隅にある [**子**![Unhide 子を再表示] アイコン ](../modeling/media/dependencygraph_filtericon_hiddennodes.gif) アイコンをクリックします (これは、非表示の子ノードがある場合にのみ表示されます)。<br />-非表示のノードをすべて表示するには、マップまたはノードのショートカットメニューを開き、 **[選択**]、[**すべて**再表示] の順に選択します。|

### <a name="to-hide-or-show-links"></a>リンクの表示/非表示を切り替えるには

|**目的**|**マップのツールバーで、レイアウト、詳細設定 の順に選択し、**|
|-|-|
|グループ間リンクを常時表示します。|**すべてのグループ間リンクを表示**します。 これにより、グループ間の集約されたリンクは非表示になります。|
|グループ間リンクを常時非表示にします。|**すべてのグループ間リンクを非表示にする**|
|選択したノードのグループ間リンクのみを表示します。|**選択したノードのグループ間リンクを表示**|
|すべてのリンクを非表示にします。|**すべてのリンクを非表示**にします。 リンクを再び表示するには、上記のオプションのいずれかを選択します。|

## <a name="OrganizeGroups"></a>グループノード

|**目的**|**次の手順を実行します。**|
|-|-|
|コンテナー ノードをグループ ノードまたはリーフ ノードとして表示します。|コンテナーノードをリーフノードとして表示するには: ノードを選択し、選択した項目のショートカットメニューを開き、 **[グループ]** 、 **[リーフに変換]** の順に選択します。<br /><br /> コンテナーノードをグループノードとして表示するには: ノードを選択し、選択した項目のショートカットメニューを開き、 **[グループ]** 、 **[グループに変換]** の順に選択します。|
|グループ内のレイアウトを変更します。|グループを選択し、ショートカットメニューを開き、 **[レイアウト]** をクリックして、目的のレイアウトスタイルを選択します。<br /><br /> または<br /><br /> 1. グループを選択し、展開されていることを確認します。<br />2. グループヘッダーをもう一度クリックすると、グループツールバーが表示されます。<br />     ![Dependency グラフ&#45;グループツールバー ](../modeling/media/dependencygraph_group.png)<br />3. [**グループの一覧のレイアウトスタイルを変更**![Dependency グラフ&#45;グループ] ツール&#45;バーレイアウト ](../modeling/media/dependencygraph_grouptoolbar.gif) を開き、目的のレイアウトスタイルを選択します。<br /><br /> **リストビュー**では、グループのメンバーがリストに再配置されます。 **グラフの既定**では、グループのレイアウトがマップの既定のレイアウトにリセットされます。 その他のオプションについては、「[マップレイアウトを変更](#Selecting)する」を参照してください。|
|ノードをグループに追加します。|ノードをグループにドラッグします。<br /><br /> ノードをドラッグするときに、Visual Studio では、ノードを移動していることを示すインジケーターが表示されます。<br /><br /> ノードをグループ外にドラッグすることもできます。|
|ノードをグループ ノード以外に追加します。|ノードを目的のノードにドラッグします。 ノードをグループに追加することで、ターゲット ノードをグループに変換することもできます。|
|選択したノードをグループ化します。|1. グループ化するノードを選択します。 選択した最後のノードの上に、ポップアップ ツールバーが表示されます。<br />     ![Dependency グラフツールバー ](../modeling/media/depedencygraph_toolbar.png)<br />2. ツールバーで、**選択したノードの**4 番目のアイコングループを選択します (ノードが展開されている場合は、4つのアイコンではなく5つになります)。 新しいグループの名前を**入力し、enter キーを**押します。<br />     または<br />     グループ化するノードを選択して、選択した項目のショートカット メニューを開きます。 **[グループ]** 、 **[親グループの追加]** の順に選択し、新しいグループの名前を入力して、 **Return**キーを押します。<br /><br /> グループ名は変更できます。 グループのショートカットメニューを開き、 **[編集]** 、 **[プロパティ]** の順に選択して、Visual Studio プロパティウィンドウを開きます。 "**ラベル**" プロパティで、必要に応じてグループの名前を変更します。|
|グループを削除します。|削除する対象の 1 つまたは複数のグループを選択します。 選択した項目のショートカットメニューを開き、 **[グループ]** 、 **[グループの削除]** の順に選択します。|
|親グループからノードを削除します。|移動するノードを選択します。 選択した項目のショートカットメニューを開き、 **[グループ]** 、 **[親から削除]** の順に選択します。 これにより、祖父母グループまでのノード、または祖父母グループがない場合はグループの外側までのノードが削除されます。<br /><br /> または<br /><br /> ノードを選択し、グループからドラッグして外します。|

## <a name="AddRemoveNodesLinks"></a>ノード、リンク、およびコメントの追加、削除、または名前の変更

マップに表示される項目の数を増減させることで、マップをドリル ダウンしたり単純化したりすることができます。 また、アイテムの名前を変更したり、項目にコメントを追加することもできます。

> [!CAUTION]
> Visual Studio Ultimate を使用して作成したマップを、Visual Studio Professional を使用するユーザーと共有する場合、他のユーザーが表示できるようにするノードは、前もってマップに表示可能に設定しておく必要があります。 そうしない場合、これらのユーザーは削除されたコード要素を取得できなくなります。

### <a name="add-a-node-for-a-code-element"></a>コード要素に対するノードの追加

|**目的**|**次の手順を実行します。**|
|-|-|
|現在のマウス ポインターの位置に、新しいジェネリック ノードを追加します。|1. 新しいコード要素を配置するマップ上の場所にマウスポインターを移動し、 **[挿入]** をクリックします。<br />     または<br />     マップのショートカットメニューを開き、 **[編集]** 、 **[追加]** 、 **[ジェネリックノード]** の順に選択します。<br />2. 新しいノードの名前を入力し、 **Return**キーを押します。|
|現在のマウス ポインターの位置に、特定の種類のコード要素ノードを追加します。|1. 新しいコード要素を配置するマップ上の場所にマウスポインターを移動し、マップのショートカットメニューを開きます。<br />2. **[編集]** 、 **[追加]** の順に選択し、必要なノードの種類を選択します。<br />3. 新しいノードの名前を入力し、 **Return**キーを押します。|
|ジェネリック型または特定の型のコード要素ノードをグループに追加します。|1. [グループ] ノードを選択し、ショートカットメニューを開きます。<br />2. **[編集]** 、 **[追加]** の順に選択し、必要なノードの種類を選択します。<br />3. 新しいノードの名前を入力し、 **Return**キーを押します。|
|既存のノードと同じ種類のノードを追加し、既存のノードからリンクを追加します。|1. コード要素を選択します。 その上にポップアップ ツールバーが表示されます。<br />     ![Dependency グラフツールバー ](../modeling/media/depedencygraph_toolbar.png)<br />2. ツールバーで、2番目のアイコン [**このノードと同じカテゴリのノードを作成する] を選択し、新しいリンクを追加**します。<br />3. 新しいコード要素を配置するマップ上の場所を選択し、マウスの左ボタンをクリックします。<br />4. 新しいノードの名前を入力し、 **Return**キーを押します。|
|フォーカスがある既存のコード要素からリンクされている、新しいジェネリック ノードを追加します。|1. キーボードを使用して、リンク元のコード要素にフォーカスがある (点線の四角形) まで**tab**キーを押します。<br />2. **Alt** + 押して**挿入**します。<br />3. 新しいノードの名前を入力し、 **Return**キーを押します。|
|フォーカスのある既存のコード要素からリンクされている、新しいジェネリック ノードを追加します。|1. キーボードを使用して、リンクするコード要素にフォーカスがある (点線の四角形) まで**tab**キーを押します。<br />2. **Alt** +**Shift** +**ins**キーを押します。<br />3. 新しいノードの名前を入力し、 **Return**キーを押します。|

|**のコード要素を追加するには**|**次の手順を実行します。**|
|-|-|
|ソリューション内のコード要素。|1.**ソリューションエクスプローラー**でコード要素を検索します。 **ソリューションエクスプローラー**の検索ボックスを使用するか、ソリューションを参照します。 **ヒント:**     型またはメンバーへの依存関係を持つコード要素を検索するには、**ソリューションエクスプローラー**内の型またはメンバーのショートカットメニューを開きます。 目的の関係を選択します。 **ソリューションエクスプローラー**には、指定した依存関係を持つコード要素のみが表示されます。<br />2. 目的のコード要素をマップ画面にドラッグします。 クラス ビューまたはオブジェクト ブラウザーからコード要素をドラッグすることもできます。<br />     または<br />     **ソリューションエクスプローラー**で、マップするコード要素を選択します。 次に、 **[ソリューションエクスプローラー]** ツールバーで、 **[コードマップに表示]** をクリックします。<br /><br /> 既定では、新しいコード要素の親コンテナーの階層がマップに表示されます。 この動作を変更するには、コードマップのツールバーの **[親を含める]** ボタンを使用します。 オフにすると、コード要素だけがマップに追加されます。 1回のドラッグアンドドロップ操作でこの動作を反転させるには、 **ctrl**キーを押しながらマップにコード要素をドラッグします。<br /><br /> Visual Studio は、選択項目の中の最上位レベルのコード項目に対してコード要素を追加します。 コード要素にその他のコード要素が含まれているかどうかを確認するには、コード要素にマウス ポインターを移動して、シェブロン (下向き矢印) を表示します。 シェブロンをクリックして、コード要素を展開します。 すべてのコード要素を展開するには、 **CTRL** +**A**キーを押してすべての要素を選択し、マップのショートカットメニューを開き、 **[グループ]** 、 **[展開]** の順に選択します。 すべてのグループを展開することで、使用できないマップの問題やメモリ不足の問題が発生する場合、このコマンドは使用できません。|
|マップにコード要素に関連するコード要素を表示します。|コードマップツールバーの [関連項目の**表示**] ボタンをクリックし、目的の関連項目の種類を選択します。<br /><br /> または<br /><br /> コード要素のショートカット メニューを開きます。 興味のある関係の種類に応じて、メニューの **[表示]** 項目のいずれかを選択します。 たとえば、現在の項目が参照している項目、現在の項目を参照する項目、クラスの基本と派生型、メソッドの呼び出し元、および含んでいるクラス、名前空間、アセンブリなどを確認できます。<br /><br /> 詳細については、[このトピック](../modeling/map-dependencies-across-your-solutions.md)を参照してください。|
|コンパイルされた .NET アセンブリ (.dll または .exe) またはバイナリ。|Visual Studio の外部から、アセンブリまたはバイナリをマップにドラッグします。<br /><br /> エクスプローラーからドラッグできるのは、エクスプローラーと Visual Studio を同じユーザー アクセス制御 (UAC: User Access Control) アクセス許可レベルで実行している場合のみです。 たとえば、UAC がオンになっていて、Visual Studio を管理者として実行している場合、Windows エクスプローラーまたはファイル エクスプローラーはドラッグ操作をブロックします。|

### <a name="AddNodes"></a>

#### <a name="add-a-link-between-existing-code-elements"></a>既存のコード要素間にリンクを追加する

1. ソース コード要素を選択します。 コード要素の上にツールバーが表示されます。

    ![依存関係のグラフ ツール バー](../modeling/media/depedencygraph_toolbar.png)

2. ツールバーで、最初のアイコンを選択し、 **[次へ] をクリックするノードの [このノードから新しいリンクを作成**] をクリックします。

3. 対象のコード要素をクリックします。 2 つのコード要素間にリンクが表示されます。

**または**

1. マップ上でソース コード要素を選択します。

2. マウスがインストールされている場合、マップの範囲外に、マウス ポインターを移動します。

3. コード要素のショートカットメニューを開き、 **[編集]** をクリックして  >  の**一般的なリンク**を**追加** >  ます。

4. Tab キーを押して、リンクのターゲット コード要素を選択します。

5. **Enter** キーを押します。

### <a name="AddComments"></a>

#### <a name="add-a-comment-to-an-existing-node-on-the-map"></a>マップ上の既存のノードにコメントを追加する

1. コード要素を選択します。 その上にツールバーが表示されます。

     ![依存関係のグラフ ツール バー](../modeling/media/depedencygraph_toolbar.png)

2. ツールバーで、3番目のアイコンを選択し、**選択したノードへの新しいリンクを含む新しいコメントノードを作成**します。

     \- または

     Code 要素のショートカットメニューを開き、[ **Edit**  > **New Comment**] を選択します。

3. コメントを入力します。 新しい行に入力するには、 **Shift**キーを押し  + **enter**キーを押します。

#### <a name="add-a-comment-to-the-map-itself"></a>マップ自体にコメントを追加する

1. マップのショートカットメニューを開き、[ **Edit**  > **New Comment**] を選択します。

2. コメントを入力します。 新しい行に入力するには、 **Shift**キーを押し  + **enter**キーを押します。

### <a name="RenameNodes"></a>

#### <a name="rename-a-code-element-or-link"></a>コード要素またはリンク名を変更する

1. 名前を変更するコード要素またはリンクを選択します。

2. **F2**キーを押すか、ショートカットメニューを開き、[ > **名前の変更** **] を選択**します。

3. マップで編集ボックスが表示されたら、コード要素またはリンクの名前を変更します。

**または**

1. ショートカットメニューを開き、[ >  の**プロパティ**の**編集**] を選択します。

2. Visual Studio プロパティウィンドウで**Label**プロパティを編集します。

#### <a name="remove-a-code-element-or-link-from-the-map"></a>マップからコード要素またはリンクを削除します。

1. コード要素またはリンクを選択し、 **del**キーを押します。

     \- または

     コード要素またはリンクのショートカットメニューを開き、[**編集** > **削除**] を選択します。

2. 要素またはリンクがグループに属している場合は、[子の**再フェッチ**] ボタン ![Refetch 子アイコン ](../modeling/media/dependencygraph_deletednodesicon.png) グループ内に表示されます。 このボタンをクリックすると、足りない要素とリンクが再フェッチされます。

- 基本コードに影響を与えずに、マップからコード要素を削除できます。 コード要素を削除すると、その定義は、DGML (.dgml) ファイルから削除されます。

- DGML を編集したり、未定義のコード要素を追加したり、旧バージョンの Visual Studio を使用したりして作成したマップは、この機能をサポートしません。

#### <a name="flag-a-code-element-for-follow-up"></a>フォロー アップ用にコード要素にフラグを設定する

1. フォローアップ用にフラグを設定するコード要素またはリンクを選択します。

2. ショートカットメニューを開き、[ > **フラグ**を**編集**] をクリックしてフォローアップします。

- 既定では、コード要素は赤の背景色で表示されます。 適切なフォローアップ情報を使用して[コメントを追加](#AddComments)することを検討してください。

- 要素の背景色を変更するか、**その他のフラグの色**を**編集** >  を選択してフォローアップフラグをクリアします。

## <a name="ChangeStyleCodeOrLink"></a>コード要素またはリンクのスタイルを変更する

事前定義されたアイコンと色を使って、コード要素のアイコン、およびコード要素とリンクの色を変更できます。 たとえば、色を選択することで、特定のカテゴリまたは特定のプロパティを持つコード要素およびリンクを強調して表示できます。 これにより、マップの特定の領域を識別し、目立たせることができます。 マップの .dgml ファイルを編集して、カスタムアイコンと色を指定できます。「 [DGML ファイルを編集してコードマップをカスタマイズする」を](../modeling/customize-code-maps-by-editing-the-dgml-files.md)参照してください。

### <a name="to-apply-a-predefined-color-or-icon-to-code-elements-or-links-with-a-certain-category-or-property"></a>特定のカテゴリまたは特定のプロパティを持つコード要素やリンクに定義済みの色またはアイコンを適用するには

1. マップのツールバーで、 **[凡例]** を選択します。

2. **[凡例]** ボックスで、コード要素のカテゴリまたはプロパティが一覧に既に表示されているかどうかを確認します。

3. リストにカテゴリまたはプロパティが含まれていない場合は、 **[凡例]** ボックスで [ **+** ] を選択し、 **[ノードプロパティ]** 、 **[ノードカテゴリ]** 、 **[リンクプロパティ]** 、または **[リンクカテゴリ]** を選択します。 次に、プロパティまたはカテゴリを選択します。 カテゴリまたはプロパティが **[凡例]** ボックスに表示されるようになりました。

    > [!NOTE]
    > カテゴリまたはプロパティを作成してコード要素に割り当てるには、マップの .dgml ファイルを編集します。「 [DGML ファイルを編集してコードマップをカスタマイズする」を](../modeling/customize-code-maps-by-editing-the-dgml-files.md)参照してください。

4. **[凡例]** ボックスで、追加したカテゴリまたはプロパティの横にあるアイコンをクリックします。

5. 次の表を使用して、変更するスタイルを選択します。

    |**を変更するには**|**Choose**|
    |-|-|
    |背景色|**背景**|
    |外枠の色|**消す**|
    |テキストの色 (結果を表示するために文字 "f" が表示されます)|**フォア**|
    |アイコン|**アイコン**|

     **[カラーセットピッカー]** または **[アイコンセットピッカー]** ダイアログボックスが表示され、色またはアイコンを選択できます。

6. **[カラーセットピッカー]** または **[アイコンセットピッカー]** ダイアログボックスで、次のいずれかの操作を行います。

    |**を適用するには**|**次の手順を実行します。**|
    |-|-|
    |色またはアイコンのセット|**[色の選択**] (または**アイコン**)**セット**の一覧を開きます。 色またはアイコンのセットを選択します。|
    |特定の色またはアイコン|カテゴリまたはプロパティ値のリストを開きます。 色またはアイコンを選択します。|

    > [!NOTE]
    > **[凡例]** ボックスでは、スタイルの並べ替え、削除、または一時的な非アクティブ化を行うことができます。 「 [[凡例] ボックスの編集](#ModifyLegend)」を参照してください。

## <a name="ModifyLegend"></a>[凡例] ボックスの編集

**[凡例]** ボックスでは、スタイルの並べ替え、削除、または一時的な非アクティブ化を行うことができます。

1. **[凡例]** ボックスで、スタイルのショートカットメニューを開きます。

2. 次のいずれかのタスクを実行します。

    |**目的**|**Choose**|
    |-|-|
    |コード要素の無効化|**無効化**|
    |コード要素の削除|**削除**|
    |アイテムを上へ移動する|**上へ移動**|
    |コード要素を下へ移動|**下へ移動**|

## <a name="CopyLegend"></a>あるマップから別のマップにスタイルをコピーする

1. ソースマップに **[凡例]** ボックスが表示されていることを確認します。 表示されていない場合は、マップのツールバーで **[凡例]** をクリックします。

2. **[凡例]** ボックスのショートカットメニューを開きます。 **[凡例のコピー]** を選択します。

3. ターゲット マップに凡例を貼り付けます。

## <a name="MergeMaps"></a>コードマップのマージ

マップ間でコード要素をコピーして貼り付けることで、マップをマージできます。 コード要素の識別子が一致する場合、コード要素の貼り付けはマージ操作と同様に機能します。 このタスクを簡単にするためには、視覚化するすべてのアセンブリとバイナリを同じフォルダー内に配置することで、各アセンブリまたはバイナリの完全パスが、マージする各マップに対して同じになるようにします。

また、それらのアセンブリやバイナリをドラッグして、そのフォルダーから同じマップへドラッグすることもできます。

## <a name="see-also"></a>参照

- [ソリューション間の依存関係をマップする](../modeling/map-dependencies-across-your-solutions.md)
- [コード マップを使用してアプリケーションをデバッグする](../modeling/use-code-maps-to-debug-your-applications.md)
- [コード マップ アナライザーを使用して潜在的な問題を検索する](../modeling/find-potential-problems-using-code-map-analyzers.md)
- [Customize code maps by editing the DGML files](../modeling/customize-code-maps-by-editing-the-dgml-files.md)
- [Directed Graph Markup Language (DGML) リファレンス](../modeling/directed-graph-markup-language-dgml-reference.md)
