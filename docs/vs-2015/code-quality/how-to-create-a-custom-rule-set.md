---
title: '方法: カスタム規則セットを作成する |Microsoft Docs'
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-code-analysis
ms.topic: conceptual
f1_keywords:
- vs.codeanalysis.addremoverulesets
helpviewer_keywords:
- Development Edition, rule sets
ms.assetid: bcc42508-9592-4802-9f66-a50111641d73
caps.latest.revision: 26
author: jillre
ms.author: jillfra
manager: wpickett
ms.openlocfilehash: 6e4aef02a2bb320112d7d268da28cf66b1ec6751
ms.sourcegitcommit: a8e8f4bd5d508da34bbe9f2d4d9fa94da0539de0
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 10/19/2019
ms.locfileid: "72657448"
---
# <a name="how-to-create-a-custom-rule-set"></a>方法: カスタム規則セットを作成する
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

@No__t_0、[!INCLUDE[vsPreShort](../includes/vspreshort-md.md)]、および [!INCLUDE[vsPro](../includes/vspro-md.md)] では、コード分析に関連する特定のプロジェクトのニーズに合わせてカスタム*規則セット*を作成および変更できます。 カスタム規則セットを作成するには、1 つ以上の標準規則セットを規則セット エディターで開きます。 その後で、特定の規則を追加または削除したり、コード分析で規則への違反が検出されたときに発生するアクションを変更したりできます。

 新規のカスタム規則セットを作成する場合は、新しいファイル名を使用して保存します。 作成したカスタム規則セットは、自動的にプロジェクトに割り当てられます。

## <a name="opening-the-rule-set-editor"></a>規則セット エディターを開く

#### <a name="to-open-an-empty-rule-set-file-in-the-rule-set-editor"></a>規則セット エディターで空の規則セット ファイルを開くには

1. @No__t_1 の **[ファイル]** メニューの **[新規作成]** をポイントし、 **[ファイル]** をクリックします。

2. **[新しいファイル]** ダイアログボックスで、 **[インストールされているテンプレート]** ボックスの一覧の **[全般]** をクリックし、 **[コード分析ルールセット]** を選択します。

3. 規則セット エディターが表示されます。 エディターの一覧では、規則が選択されていません。

#### <a name="to-create-a-custom-rule-from-a-single-existing-rule-set"></a>既存の 1 つの規則セットからカスタム規則を作成するには

1. ソリューションエクスプローラーで、プロジェクトを右クリックし、 **[プロパティ]** を選択します。

2. **[プロパティ]** タブで、 **[コード分析]** をクリックします。

3. **[規則セット]** ドロップダウンリストで、次のいずれかの操作を行います。

   - カスタマイズする規則セットを選択します。

     \- または

   - @No__t_1Browse の選択.. **.** 一覧に含まれていない既存の規則セットを指定する場合は > します。

4. **[開く]** をクリックすると、ルールセットエディターにルールが表示されます。

#### <a name="to-create-a-custom-rule-set-from-multiple-existing-rule-sets"></a>既存の複数の規則セットからカスタム規則セットを作成するには

1. ソリューションエクスプローラーで、プロジェクトを右クリックし、 **[プロパティ]** を選択します。

2. **[プロパティ]** タブで、 **[コード分析]** をクリックします。

3. **複数の規則セットを \<Choose 選択...から >** 、**この規則セットを実行**します。

4. **[規則セットの追加と削除]** ダイアログボックスで、新しい規則セットの基になる規則セットを選択し、 **[OK]** をクリックします。

5. 新しい規則セットを保存します。

     新しい規則セットの名前は、[**この規則セットを実行**する] の一覧で選択されています。 次の手順で、規則セットの表示名を変更できます。

6. Optionalルールセットの表示名を変更するには、 **[表示]** メニューの **[プロパティウィンドウ]** をクリックします。 **[名前]** ボックスに表示名を入力します。

7. 新しい規則セット内の特定のコード分析規則を追加、削除、または変更するには、 **[開く]** をクリックします。

## <a name="modifying-a-rule-set"></a>規則セットを変更する

#### <a name="to-modify-a-rule-set-in-the-rule-set-editor"></a>規則セット エディターで規則セットを変更するには

- ルールセットの表示名を変更するには、 **[表示]** メニューの **[プロパティウィンドウ]** をクリックします。 **[名前]** ボックスに表示名を入力します。 表示名には、ファイル名と異なる名前を指定できます。

- グループ内のすべての規則をカスタム規則セットに追加するには、グループのチェック ボックスをオンにします。 グループ内のすべての規則を削除するには、チェック ボックスをオフにします。

- 特定の規則をカスタム規則セットに追加するには、その規則のチェック ボックスをオンにします。 規則セットから規則を削除するには、チェック ボックスをオフにします。

- コード分析でルールに違反したときに実行されるアクションを変更するには、ルールの **[アクション]** フィールドをクリックし、次のいずれかの値を選択します。

     **警告-警告**を生成します。

     **エラー** -エラーが生成されます。

     **None** -ルールを無効にします。 このアクションは、規則セットから規則を削除するのと同じです。

## <a name="changing-the-rule-set-editor-display"></a>規則セット エディターの表示を変更する

#### <a name="to-group-filter-or-change-the-fields-in-the-rule-set-editor-by-using-the-rule-set-editor-toolbar"></a>規則セット エディターのツール バーを使用して、規則セット エディターに表示されるフィールドのグループ化、フィルター処理、または変更を行うには

- すべてのグループのルールを展開するには、 **[すべて展開]** をクリックします。

- すべてのグループのルールを折りたたむには、 **[すべて折りたたみ]** をクリックします。

- ルールがグループ化されているフィールドを変更するには、 **[グループ化]** ボックスの一覧からフィールドを選択します。 グループ化されていない規則を表示するには、[ **\<None >** ] を選択します。

- ルール列のフィールドを追加または削除するには、 **[列のオプション]** をクリックします。

- 現在のソリューションに適用されない規則を非表示にするには、**現在のソリューションに適用されない規則を非表示**にします。

- エラーアクションが割り当てられているルールの表示と非表示を切り替えるには、[**コード分析エラーを生成するルールを表示**する] をクリックします。

- 警告アクションが割り当てられている規則の表示と非表示を切り替えるには、[**コード分析警告を生成できる規則を表示**する] をクリックします。

- **[なし]** アクションが割り当てられているルールの表示と非表示を切り替えるには、無効になっている **[ルールを表示]** する をクリックします。

- Microsoft の既定の規則セットを現在の規則セットに追加または削除するには、 **[子規則セットの追加または削除]** をクリックします。

## <a name="see-also"></a>参照
 [方法: マネージコードのコード分析を構成するプロジェクト](../code-quality/how-to-configure-code-analysis-for-a-managed-code-project.md)[コード分析規則セットの参照](../code-quality/code-analysis-rule-set-reference.md)
