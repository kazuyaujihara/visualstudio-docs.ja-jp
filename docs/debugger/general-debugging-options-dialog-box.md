---
title: '[全般] ([オプション] ダイアログボックス-[デバッグ])Microsoft Docs'
ms.date: 11/12/2019
ms.topic: reference
f1_keywords:
- vs.debug.options.General
- VS.ToolsOptionsPages.Debugger.General
- VS.ToolsOptionsPages.Debugger.ENC
- vs.debug.options.ENC
dev_langs:
- CSharp
- VB
- FSharp
- C++
- JScript
helpviewer_keywords:
- Options dialog box, debugging
ms.assetid: b33aee0b-43c3-4c26-8ed4-bc673f491503
author: mikejo5000
ms.author: mikejo
manager: jillfra
ms.workload:
- multiple
ms.openlocfilehash: 528fa04b081937af69e647b01911ed00c1ec40c9
ms.sourcegitcommit: 9801fc66a14c0f855b9ff601fb981a9e5321819e
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 11/14/2019
ms.locfileid: "74072715"
---
# <a name="general-debugging-options"></a>一般的なデバッグオプション

Visual Studio デバッガーのオプションを設定するには、 **[ツール]**  >  **[オプション]** を選択し、 **[デバッグ]** の **[全般]** オプションの横にあるチェックボックスをオンまたはオフにします。 すべての既定の設定を復元**するには**、 **[設定のインポートとエクスポート**]  >  **[すべての設定のリセット]** を  >  ます。 設定のサブセットをリセットするには、[**設定のインポートとエクスポート] ウィザード**を使用して設定を保存してから、テストする変更を行ってから、保存した設定を後でインポートします。

次の**一般的な**オプションを設定できます。

**すべてのブレークポイントを削除する前に**確認する: **[すべてのブレークポイントの削除]** コマンドを完了する前に確認が必要です。

**1 つのプロセス**が中断したときにすべてのプロセスを中断する: 中断が発生したときに、デバッガーがアタッチされているすべてのプロセスを同時に中断します。

**例外が AppDomain またはマネージ/ネイティブの境界を越える場合に中断**: マネージデバッグまたは混合モードのデバッグでは、共通言語ランタイムは、次のような場合に、アプリケーションドメインの境界またはマネージ/ネイティブの境界を越える例外をキャッチすることができます。条件は次のとおりです。

1. ネイティブ コードで、COM 相互運用機能を使用してマネージド コードが呼び出され、呼び出されたマネージド コードから例外がスローされた場合。 「 [COM 相互運用機能の概要」を](/dotnet/articles/visual-basic/programming-guide/com-interop/introduction-to-com-interop)参照してください。

2. アプリケーション ドメイン 1 で実行中のマネージド コードによってアプリケーション ドメイン 2 のマネージド コードが呼び出され、アプリケーション ドメイン 2 のコードから例外がスローされた場合。 「[アプリケーション ドメインを使用したプログラミング](/dotnet/articles/framework/app-domains/index)」をご覧ください。

3. コードがリフレクションを使用して関数を呼び出し、その関数が例外をスローする場合。 「[リフレクション](/dotnet/framework/reflection-and-codedom/reflection)」を参照してください。

条件2および3では、共通言語ランタイムではなく、`mscorlib` のマネージコードによって例外がキャッチされることがあります。 このオプションを選択しても、`mscorlib` でキャッチされる例外の処理は中断されません。

**アドレスレベルのデバッグを有効にする**: アドレスレベル (**逆アセンブル** ウィンドウ、**レジスタ** ウィンドウ、および アドレスブレークポイント) でデバッグするための高度な機能を有効にします。

- **[ソースが使用できない場合は逆アセンブリを表示]** : ソースが使用できないコードをデバッグすると、 **[逆アセンブリ]** ウィンドウが自動的に表示されます。

**ブレークポイントフィルターを有効**にする: 特定のプロセス、スレッド、またはコンピューターのみに影響を与えるように、ブレークポイントのフィルターを設定できます。

**新しい例外ヘルパーを使用**する: 例外処理アシスタントを置き換える例外ヘルパーを有効にします。 (例外ヘルパーは Visual Studio 2017 以降でサポートされています)

> [!NOTE]
> マネージコードの場合、このオプションは **[例外処理アシスタントを有効にする]** と呼ばれていました。

**[マイコードのみを有効にする]** : デバッガーは、ユーザーコード ("マイコード") のみを表示してステップインします。システムコードや、最適化されている、またはデバッグシンボルを持たないコードは無視されます。

- **[起動時にユーザーコードがない場合に警告する (マネージのみ)** ]: マイコードのみが有効になっている場合にデバッグを開始すると、ユーザーコード ("マイコード") がない場合に警告が表示されます。

**.NET Framework ソースのステップ実行を有効に**する: デバッガーが .NET Framework ソースにステップインすることを許可します。 このオプションを有効にすると、マイコードのみが自動的に無効になります。 .NET Framework シンボルはキャッシュの場所にダウンロードされます。 キャッシュの場所を変更するには、 **[オプション]** ダイアログボックスの **[デバッグ]** カテゴリの **[シンボル]** ページを使用します。

**[プロパティおよび演算子をステップオーバーする (マネージのみ)** ]: マネージコード内のプロパティおよび演算子にデバッガーがステップインしないようにします。

**プロパティの評価とその他の暗黙的な関数呼び出しを有効にする**: 変数 ウィンドウと **クイックウォッチ** ダイアログボックスで、プロパティの自動評価と暗黙的な関数呼び出しをオンにします。

- **変数ウィンドウ内のオブジェクトに対して文字列変換C#関数を呼び出す (および JavaScript のみ)** : 変数ウィンドウでオブジェクトを評価するときに、暗黙的な文字列変換呼び出しを実行します。 結果は、型名の代わりに文字列として表示されます。 C# コードのデバッグ時にのみ適用されます。 この設定は、デバッガ Display 属性によってオーバーライドされる場合があります (「[デバッガー display 属性の使用」を](../debugger/using-the-debuggerdisplay-attribute.md)参照してください)。

**ソースサーバーのサポートを有効に**する: srcsrv (`srcsrv.dll`) プロトコルを実装するソースサーバーからソースファイルを取得するように Visual Studio デバッガーに指示します。 このプロトコルを実装する 2 つのソース サーバーは Team Foundation Server と Debugging Tools for Windows です。 SrcSrv セットアップの詳細については、 [Srcsrv](/windows-hardware/drivers/debugger/srcsrv)のドキュメントを参照してください。 また、「[シンボル (.pdb) ファイルとソースファイルを指定する](../debugger/specify-symbol-dot-pdb-and-source-files-in-the-visual-studio-debugger.md)」を参照してください。

> [!IMPORTANT]
> *.pdb* ファイルを読み取ることでそのファイル内の任意のコードを実行できるため、サーバーが信頼されていることを確認してください。

- **ソースサーバーの診断メッセージを出力ウィンドウに出力**する: [ソースサーバーのサポート] が有効になっている場合、この設定は診断表示を有効にします。

- **[部分信頼アセンブリのソースサーバーを許可する (マネージのみ)]** : この設定は、ソースサーバーのサポートが有効な場合に、部分信頼アセンブリのソースを取得しない場合の既定の動作を上書きします。

- **常に信頼されていないソースサーバーコマンドを実行**する: ソースサーバーのサポートが有効になっている場合、信頼されていないコマンドの実行時にプロンプトの既定の動作を上書きします。

**ソースリンクのサポートを有効に**する: ソースリンク情報を含む *.pdb*ファイルのソースファイルをダウンロードするように Visual Studio デバッガーに指示します。 ソースリンクの詳細については、[ソースリンクの仕様](https://github.com/dotnet/core/blob/master/Documentation/diagnostics/source_link.md)を参照してください。

> [!IMPORTANT]
> ソースリンクは http または https を使用してファイルをダウンロードするため、 *.pdb*ファイルを信頼していることを確認してください。

- **すべてのソースリンク要求に対して Git Credential Manager 認証にフォールバック**: ソースリンクのサポートが有効になっていて、ソースリンク要求が認証に失敗した場合、Visual Studio は Git credential manager を呼び出します。

**ブレークポイントと現在のステートメントの行全体C++を強調表示する (のみ)** : デバッガーがブレークポイントまたは現在のステートメントを強調表示すると、行全体が強調表示されます。

元**のバージョンと完全に一致するソースファイルを必要とする**: デバッグ対象の実行可能ファイルをビルドするために使用されたソースコードのバージョンとソースファイルが一致することをデバッガーに通知します。 バージョンが一致しない場合は、一致するソースを検索するように求められます。 一致するソースが見つからないときは、デバッグ時にソース コードが表示されません。

**[すべての出力ウィンドウテキストをイミディエイトウィンドウにリダイレクトする**]:**出力**ウィンドウに通常表示されるすべてのデバッガーメッセージを代わりに **[イミディエイト]** ウィンドウに送信します。

**[オブジェクトの生の構造体を変数ウィンドウに表示する]** : すべてのオブジェクト構造ビューのカスタマイズをオフにします。 表示のカスタマイズの詳細については、「[管理オブジェクトのカスタムビューを作成する](../debugger/create-custom-views-of-managed-objects.md)」を参照してください。

**[モジュールの読み込み時に jit 最適化を抑制する (マネージのみ)** ]: デバッガーがアタッチされているときに、モジュールが読み込まれ、jit がコンパイルされるときに、マネージコードの jit 最適化を無効にします。 最適化を無効にした場合、一部の問題のデバッグは簡単になりますが、パフォーマンスは低下します。 [マイ コードのみ] を使用しているときに JIT 最適化を抑制すると、非ユーザー コードがユーザー コード ("マイ コード") として表示される可能性があります。 詳細については、「 [JIT の最適化とデバッグ](../debugger/jit-optimization-and-debugging.md)」を参照してください。

**ASP.NET の JavaScript デバッグを有効にします (Chrome、Microsoft Edge、および IE)** : ASP.NET アプリのスクリプトデバッガーを有効にします。 Chrome で初めて使用する場合は、ブラウザーにサインインして、インストールした Chrome 拡張機能を有効にすることが必要になる場合があります。 レガシ動作に戻すには、このオプションを無効にします。

**Uwp Javascript アプリのエッジ開発者ツールを有効にする (試験段階)** : Microsoft EDGE で uwp javascript アプリの開発者ツールを使用できるようにします。

**ASP.NET の従来の Chrome javascript デバッガーを有効にする**: ASP.NET アプリ用の従来の chrome javascript スクリプトデバッガーを有効にします。 Chrome で初めて使用する場合は、ブラウザーにサインインして、インストールした Chrome 拡張機能を有効にすることが必要になる場合があります。

**実験用の方法を使用して、Visual studio を管理者として実行するときに Chrome JavaScript のデバッグを開始**する: visual studio に対して、JavaScript のデバッグ中に chrome を起動する新しい方法を試すように指示します。

**Dll エクスポートの読み込み (ネイティブのみ)** : dll エクスポートテーブルを読み込みます。 DLL エクスポート テーブルのシンボル情報は、対応するシンボルのない Windows メッセージ、Windows プロシージャ (WindowProc)、COM オブジェクト、マーシャリング、DLL を操作する場合に役立ちます。 DLL エクスポート情報を読み取ると、オーバーヘッドがある程度発生します。 そのため、既定ではこの機能はオフになっています。

DLL のエクスポート テーブル内で使用できるシンボルを確認するには、`dumpbin /exports` を使います。 シンボルは、すべての 32 ビット システムの DLL に使うことができます。 `dumpbin /exports` の出力を参照すると、英数字以外の文字を含む、正確な関数名を確認できます。 この情報は、関数にブレークポイントを設定するときに使用します。 DLL エクスポート テーブルの関数名は、デバッガーの他の場所で表示されるとき、切り捨てられることがあります。 関数は呼び出し順に表示され、現在の関数 (入れ子の一番内側) が先頭に表示されます。 詳細については、「 [dumpbin /exports](/cpp/build/reference/dash-exports)」を参照してください。

**並列スタックの図を上下に表示**: **[並列スタック]** ウィンドウにスタックを表示する方向を制御します。

**書き込まれたデータが値を変更しなかった場合は、GPU メモリアクセス例外を無視**する: データが変更されなかった場合に、デバッグ中に検出された競合状態を無視します。 詳細については、「 [GPU コードのデバッグ](../debugger/debugging-gpu-code.md)」を参照してください。

**マネージ互換モードを使用**する: 既定のデバッグエンジンをレガシバージョンに置き換えて、次のシナリオを有効にします。

- 、Visual Basic、またはC# F#独自の式エバリュエーター (これには/cli を含むC++) 以外の .net 言語を使用しています。

- 混合モードのデバッグ中にプロジェクトのC++エディットコンティニュを有効にします。

> [!NOTE]
> マネージ互換モードを選択すると、既定のデバッグエンジンにのみ実装されている一部の機能が無効になります。 Visual Studio 2012 では、従来のデバッグエンジンが置き換えられました。

**レガシC#および VB の式エバリュエーターを使用する**: デバッガーは、Visual C# Studio 2015 roslyn ベースの式エバリュエーターではなく、Visual Studio 2013 または Visual Basic 式エバリュエーターを使用します。

**安全でない可能性のあるプロセスに対してカスタムデバッガービジュアライザーを使用する場合に警告する (マネージドのみ)** : デバッグされたプロセスでコードを実行しているカスタムデバッガービジュアライザーを使用しているときに、アンセーフコードを実行している可能性があるため、Visual Studio によって警告が表示されます.

**Windows デバッグヒープアロケーターを有効にする (ネイティブのみ)** : ヒープ診断を向上させるために windows デバッグヒープを有効にします。 このオプションを有効にすると、デバッグ パフォーマンスに影響を与えます。

**XAML の UI デバッグツールを有効に**する: サポートされているプロジェクトの種類でデバッグ (**F5**) を開始すると、ライブビジュアルツリーとライブプロパティエクスプローラーが表示されます。 詳細については、「[デバッグ中の XAML プロパティの検査](../xaml-tools/inspect-xaml-properties-while-debugging.md)」を参照してください。

- **ライブビジュアルツリーで選択した要素をプレビュー**する: コンテキストが選択されている XAML 要素は、**ライブビジュアルツリー**ウィンドウでも選択されています。

- **[アプリケーションにランタイムツールを表示**]: デバッグ中の XAML アプリケーションのメインウィンドウのツールバーに、**ライブビジュアルツリー**のコマンドが表示されます。 このオプションは、Visual Studio 2015 Update 2 で導入されました。

- **Xaml ホットリロードの有効化**: アプリの実行時に xaml コードと共に Xaml ホットリロード機能を使用できるようにします。 (この機能は、以前は "XAML エディットコンティニュ" と呼ばれていました)

::: moniker range=">= vs-2019" 
- **[マイ XAML のみを有効にする**]: visual Studio 2019 バージョン16.4 以降では、既定で**ライブビジュアルツリー**には、ユーザーコードとして分類された XAML のみが表示されます。 このオプションを無効にすると、生成されたすべての XAML コードがツールに表示されます。

- **要素が選択されたときに選択モードをオフにする**Visual Studio 2019 バージョン16.4 以降では、要素が選択されると、アプリ内ツールバー要素セレクターボタン (**選択の有効化**) がオフになります。 このオプションを無効にした場合、[アプリ内] ツールバーボタンを再度クリックするまで、要素の選択はオンのままになります。
::: moniker-end

**デバッグ中に診断ツールを有効にする**: デバッグ中に **[診断ツール]** ウィンドウが表示されます。

**[デバッグ中に経過時間の PerfTip を表示する]** : デバッグ時に、指定されたメソッド呼び出しの経過時間がコードウィンドウに表示されます。

**エディットコンティニュを有効にする**: デバッグ中にエディットコンティニュ機能を有効にします。

- **ネイティブのエディットコンティニュを有効に**する: ネイティブC++コードのデバッグ中に、エディットコンティニュ機能を使用できます。 詳細については、「[エディットコンティニュC++()](../debugger/edit-and-continue-visual-cpp.md)」を参照してください。

- **[続行時に変更を適用する (ネイティブのみ)** ]: Visual Studio は、中断状態からプロセスを続行したときに行った未処理のコード変更を自動的にコンパイルして適用します。 選択されていない場合は、 **[デバッグ]** メニューの下にある **[コード変更を適用]** の項目を使って変更を適用することができます。

- **古いコードに関する警告を表示する (ネイティブのみ)** : 古いコードに関する警告を取得します。

**[デバッグ中にエディターで実行するボタンを表示する]** : このオプションが選択されている場合は、デバッグ中に[[クリックして実行](../debugger/debugger-feature-tour.md#run-to-a-point-in-your-code-quickly-using-the-mouse)] ボタンが表示されます。

**デバッグの停止時に自動的にコンソールを閉じる**: デバッグセッションの終了時にコンソールを閉じるように Visual Studio に指示します。

::: moniker range=">= vs-2019"
**[高速式の評価を有効にする (マネージのみ)]** : 単純なプロパティとメソッドの実行をシミュレートすることにより、デバッガーがより高速に評価できるようにします。
::: moniker-end

## <a name="options-available-in-older-versions-of-visual-studio"></a>以前のバージョンの Visual Studio で使用可能なオプション

以前のバージョンの Visual Studio を使用している場合は、いくつかの追加オプションが表示されることがあります。

**[例外処理アシスタントを有効にする]** : マネージコードの場合、例外処理アシスタントを有効にします。 Visual Studio 2017 以降では、例外ヘルパーは例外処理アシスタントを置き換えました。

**ハンドルされない例外で呼び出し履歴をアンワインド**する **: 呼び出し履歴ウィンドウが**、未処理の例外が発生する前の時点にコールスタックをロールバックします。

**[起動時にシンボルがない場合に警告する (ネイティブのみ)** ]: デバッガーにシンボル情報がないプログラムをデバッグするときに、警告ダイアログボックスが表示されます。

**[起動時にスクリプトのデバッグが無効**になっている場合に警告する]: スクリプトのデバッグを無効にしてデバッガーを起動すると、警告ダイアログボックスが表示されます。

**[ネイティブ互換モードを使用する]** : このオプションが選択されている場合、デバッガーは新しいネイティブデバッガーではなく、Visual Studio 2010 ネイティブデバッガーを使用します。

- このオプションは、新しいデバッグエンジンがC++ .net C++式の評価をサポートしていないため、.net コードをデバッグする場合に使用します。 ただし、ネイティブ互換モードを有効にすると、現在のデバッガーの実装に依存している多くの機能が無効になります。 たとえば、レガシエンジンには、Visual Studio 2015 プロジェクトの `std::string` などの組み込み型用のビジュアライザーが多くありません。   このような場合に最適なデバッグエクスペリエンスを得るには、Visual Studio 2013 プロジェクトを使用します。

## <a name="see-also"></a>関連項目

- [Visual Studio でのデバッグ](../debugger/index.yml)
- [デバッガーでのはじめに](../debugger/debugger-feature-tour.md)
